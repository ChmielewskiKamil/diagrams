<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2821px" preserveAspectRatio="none" style="width:3313px;height:2821px;background:#FFFFFF;" version="1.1" viewBox="0 0 3313 2821" width="3313px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="371" x="1467.25" y="28.5352">Bond Options: Contract Interactions in the protocol</text><rect fill="#FFFFFF" height="32.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="871.5" y="579.5234"/><rect fill="#FFFFFF" height="821.4941" style="stroke:#181818;stroke-width:1.0;" width="10" x="1361.5" y="717.5645"/><rect fill="#FFFFFF" height="617.6992" style="stroke:#181818;stroke-width:1.0;" width="10" x="1366.5" y="921.3594"/><rect fill="#FFFFFF" height="894.6504" style="stroke:#181818;stroke-width:1.0;" width="10" x="1361.5" y="1704.6113"/><rect fill="#FFFFFF" height="79.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1366.5" y="1744.9219"/><rect fill="#FFFFFF" height="700.0977" style="stroke:#181818;stroke-width:1.0;" width="10" x="1366.5" y="1876.1641"/><rect fill="#FFFFFF" height="78.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1371.5" y="1972.0957"/><rect fill="#FFFFFF" height="60.7988" style="stroke:#181818;stroke-width:1.0;" width="10" x="1969" y="226.0859"/><rect fill="#FFFFFF" height="499.8018" style="stroke:#181818;stroke-width:1.0;" width="10" x="1969" y="1039.2568"/><rect fill="#FFFFFF" height="40.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1974" y="1102.5332"/><rect fill="#FFFFFF" height="192.041" style="stroke:#181818;stroke-width:1.0;" width="10" x="1974" y="1260.0859"/><rect fill="#FFFFFF" height="44.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="1969" y="2006.4063"/><rect fill="#FFFFFF" height="421.9922" style="stroke:#181818;stroke-width:1.0;" width="10" x="1969" y="2124.959"/><rect fill="#FFFFFF" height="124.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1974" y="2236.2012"/><rect fill="#FFFFFF" height="40.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1979" y="2278.5117"/><rect fill="#FFFFFF" height="70.7988" style="stroke:#181818;stroke-width:1.0;" width="10" x="2446" y="1352.0176"/><rect fill="#FFFFFF" height="50.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="2816.5" y="1452.127"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="2816.5" y="2169.5801"/><rect fill="#FFFFFF" height="44.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="2816.5" y="2502.3301"/><rect fill="none" height="346.4375" style="stroke:#000000;stroke-width:1.5;" width="2571" x="9" y="135.9766"/><rect fill="none" height="1123.2656" style="stroke:#000000;stroke-width:1.5;" width="2578.5" x="579" y="496.4141"/><rect fill="none" height="957.582" style="stroke:#000000;stroke-width:1.5;" width="1833" x="1098" y="1633.6797"/><rect fill="none" height="74.9316" style="stroke:#000000;stroke-width:1.5;" width="339" x="1281.5" y="1764.9219"/><rect fill="none" height="688.0977" style="stroke:#000000;stroke-width:1.5;" width="1649.5" x="1271.5" y="1896.1641"/><rect fill="none" height="90.8867" style="stroke:#000000;stroke-width:1.5;" width="797" x="1281.5" y="2383.1328"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="305" x2="305" y1="184.0313" y2="2608.2617"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="643.5" x2="643.5" y1="118.9766" y2="2608.2617"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="876" x2="876" y1="471.6699" y2="2608.2617"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1106.5" x2="1106.5" y1="118.9766" y2="2608.2617"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1366.5" x2="1366.5" y1="621.2676" y2="2608.2617"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1740.5" x2="1740.5" y1="118.9766" y2="2608.2617"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1830.5" x2="1830.5" y1="118.9766" y2="2608.2617"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1973.5" x2="1973.5" y1="225.5195" y2="2608.2617"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2451" x2="2451" y1="296.3184" y2="2608.2617"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2821" x2="2821" y1="2046.7168" y2="2608.2617"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3084.5" x2="3084.5" y1="544.4688" y2="2608.2617"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3229.5" x2="3229.5" y1="118.9766" y2="2608.2617"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="246" y="2607.2617"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="253" y="2627.7969">Roles Authority</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="576.5" y="116.0234">Bond Labs (Admin)</text><ellipse cx="644" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M644,58.9883 L644,85.9883 M631,66.9883 L657,66.9883 M644,85.9883 L631,100.9883 M644,85.9883 L657,100.9883 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="576.5" y="2620.7969">Bond Labs (Admin)</text><ellipse cx="644" cy="2632.25" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M644,2640.25 L644,2667.25 M631,2648.25 L657,2648.25 M644,2667.25 L631,2682.25 M644,2667.25 L657,2682.25 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="823" y="2607.2617"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="830" y="2627.7969">OTLM Factory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="1026.5" y="116.0234">External Team (Issuer)</text><ellipse cx="1106.5" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M1106.5,58.9883 L1106.5,85.9883 M1093.5,66.9883 L1119.5,66.9883 M1106.5,85.9883 L1093.5,100.9883 M1106.5,85.9883 L1119.5,100.9883 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="1026.5" y="2620.7969">External Team (Issuer)</text><ellipse cx="1106.5" cy="2632.25" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M1106.5,2640.25 L1106.5,2667.25 M1093.5,2648.25 L1119.5,2648.25 M1106.5,2667.25 L1093.5,2682.25 M1106.5,2667.25 L1119.5,2682.25 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="1291.5" y="2607.2617"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="1298.5" y="2627.7969">Manual Strike OTLM</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1698.5" y="116.0234">Alice (User)</text><ellipse cx="1740.5" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M1740.5,58.9883 L1740.5,85.9883 M1727.5,66.9883 L1753.5,66.9883 M1740.5,85.9883 L1727.5,100.9883 M1740.5,85.9883 L1753.5,100.9883 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1698.5" y="2620.7969">Alice (User)</text><ellipse cx="1740.5" cy="2632.25" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M1740.5,2640.25 L1740.5,2667.25 M1727.5,2648.25 L1753.5,2648.25 M1740.5,2667.25 L1727.5,2682.25 M1740.5,2667.25 L1753.5,2682.25 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="1792.5" y="116.0234">Bob (User)</text><ellipse cx="1831" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M1831,58.9883 L1831,85.9883 M1818,66.9883 L1844,66.9883 M1831,85.9883 L1818,100.9883 M1831,85.9883 L1844,100.9883 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="1792.5" y="2620.7969">Bob (User)</text><ellipse cx="1831" cy="2632.25" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M1831,2640.25 L1831,2667.25 M1818,2648.25 L1844,2648.25 M1831,2667.25 L1818,2682.25 M1831,2667.25 L1844,2682.25 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="189" x="1879.5" y="2607.2617"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="1886.5" y="2627.7969">Fixed Strike Option Teller</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="238" x="2332" y="2607.2617"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224" x="2339" y="2627.7969">Fixed Strike Option Token (IMPL)</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="2732" y="2607.2617"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="2739" y="2627.7969">Option Token (Instance)</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="3021.5" y="2607.2617"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="3028.5" y="2627.7969">Token Allow List</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="3157.5" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="3164.5" y="108.0234">Oracle Strike OTLM</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="3157.5" y="2607.2617"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="3164.5" y="2627.7969">Oracle Strike OTLM</text><rect fill="#FFFFFF" height="32.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="871.5" y="579.5234"/><rect fill="#FFFFFF" height="821.4941" style="stroke:#181818;stroke-width:1.0;" width="10" x="1361.5" y="717.5645"/><rect fill="#FFFFFF" height="617.6992" style="stroke:#181818;stroke-width:1.0;" width="10" x="1366.5" y="921.3594"/><rect fill="#FFFFFF" height="894.6504" style="stroke:#181818;stroke-width:1.0;" width="10" x="1361.5" y="1704.6113"/><rect fill="#FFFFFF" height="79.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1366.5" y="1744.9219"/><rect fill="#FFFFFF" height="700.0977" style="stroke:#181818;stroke-width:1.0;" width="10" x="1366.5" y="1876.1641"/><rect fill="#FFFFFF" height="78.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1371.5" y="1972.0957"/><rect fill="#FFFFFF" height="60.7988" style="stroke:#181818;stroke-width:1.0;" width="10" x="1969" y="226.0859"/><rect fill="#FFFFFF" height="499.8018" style="stroke:#181818;stroke-width:1.0;" width="10" x="1969" y="1039.2568"/><rect fill="#FFFFFF" height="40.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1974" y="1102.5332"/><rect fill="#FFFFFF" height="192.041" style="stroke:#181818;stroke-width:1.0;" width="10" x="1974" y="1260.0859"/><rect fill="#FFFFFF" height="44.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="1969" y="2006.4063"/><rect fill="#FFFFFF" height="421.9922" style="stroke:#181818;stroke-width:1.0;" width="10" x="1969" y="2124.959"/><rect fill="#FFFFFF" height="124.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1974" y="2236.2012"/><rect fill="#FFFFFF" height="40.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1979" y="2278.5117"/><rect fill="#FFFFFF" height="70.7988" style="stroke:#181818;stroke-width:1.0;" width="10" x="2446" y="1352.0176"/><rect fill="#FFFFFF" height="50.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="2816.5" y="1452.127"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="2816.5" y="2169.5801"/><rect fill="#FFFFFF" height="44.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="2816.5" y="2502.3301"/><path d="M9,135.9766 L336,135.9766 L336,143.2871 L326,153.2871 L9,153.2871 L9,135.9766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="346.4375" style="stroke:#000000;stroke-width:1.5;" width="2571" x="9" y="135.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="282" x="24" y="149.5449">Bond Options - Core Protocol Deployment</text><polygon fill="#181818" points="376,170.5977,366,174.5977,376,178.5977,372,174.5977" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="370" x2="643" y1="174.5977" y2="174.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="377" y="169.8555">1.1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="402" y="169.8555">Deploy new Roles Authority contract</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="246" y="153.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="253" y="173.8223">Roles Authority</text><polygon fill="#181818" points="1867.5,212.0859,1877.5,216.0859,1867.5,220.0859,1871.5,216.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="644" x2="1873.5" y1="216.0859" y2="216.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1136.75" y="211.3438">2.1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="1161.75" y="211.3438">Deploy new FixedStrikeOptionTeller</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="189" x="1879.5" y="194.7754"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="1886.5" y="215.3105">Fixed Strike Option Teller</text><polygon fill="#181818" points="316.5,253.5742,306.5,257.5742,316.5,261.5742,312.5,257.5742" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="310.5" x2="1968" y1="257.5742" y2="257.5742"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1041.75" y="252.832">2.2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19" x="1066.75" y="252.832">Set</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="55" x="1089.75" y="252.832">guardian</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="1148.75" y="252.832">and</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="57" x="1175.75" y="252.832">authority</text><polygon fill="#181818" points="2320,282.8848,2330,286.8848,2320,290.8848,2324,286.8848" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1974" x2="2326" y1="286.8848" y2="286.8848"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1988.5" y="282.1426">2.3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="2013.5" y="282.1426">Deploy Option Token implementation for clones</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="238" x="2332" y="265.5742"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224" x="2339" y="286.1094">Fixed Strike Option Token (IMPL)</text><polygon fill="#181818" points="316.5,339.6836,306.5,343.6836,316.5,347.6836,312.5,343.6836" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="310.5" x2="643" y1="343.6836" y2="343.6836"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="336.25" y="331.2861">3.1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="361.25" y="323.6309">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="117" x="389.25" y="323.6309">setRoleCapability()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="361.25" y="338.9414">to allow</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="32" x="415.25" y="338.9414">role0</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="451.25" y="338.9414">call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="136" x="477.25" y="338.9414">teller.setProtocolFee()</text><polygon fill="#181818" points="316.5,384.3047,306.5,388.3047,316.5,392.3047,312.5,388.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="310.5" x2="643" y1="388.3047" y2="388.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="351.25" y="375.9072">4.1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="376.25" y="368.252">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="117" x="404.25" y="368.252">setRoleCapability()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="376.25" y="383.5625">to allow</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="32" x="430.25" y="383.5625">role0</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="466.25" y="383.5625">call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="106" x="492.25" y="383.5625">teller.claimFees()</text><polygon fill="#181818" points="316.5,428.9258,306.5,432.9258,316.5,436.9258,312.5,432.9258" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="310.5" x2="643" y1="432.9258" y2="432.9258"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="377.25" y="420.5283">5.1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="402.25" y="412.873">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="82" x="430.25" y="412.873">setUserRole()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="402.25" y="428.1836">to assign</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="55" x="464.25" y="428.1836">guardian</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="13" x="523.25" y="428.1836">to</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="32" x="540.25" y="428.1836">role0</text><path d="M19,405.96 L19,430.96 L300,430.96 L300,415.96 L290,405.96 L19,405.96 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M290,405.96 L290,415.96 L300,415.96 L290,405.96 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="55" x="25" y="423.5283">guardian</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="84" y="423.5283">is Bond Labs Multi Sig wallet</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="267" y="423.5283">???</text><polygon fill="#181818" points="811,458.2363,821,462.2363,811,466.2363,815,462.2363" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="644" x2="817" y1="462.2363" y2="462.2363"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="656" y="457.4941">6.1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="681" y="457.4941">Deploy OTLMFactory</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="823" y="440.9258"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="830" y="461.4609">OTLM Factory</text><path d="M579,496.4141 L981,496.4141 L981,503.7246 L971,513.7246 L579,513.7246 L579,496.4141 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1123.2656" style="stroke:#000000;stroke-width:1.5;" width="2578.5" x="579" y="496.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="357" x="594" y="509.9824">Manual Strike Option Token Liquidity Mining - Setup</text><polygon fill="#181818" points="3009.5,531.0352,3019.5,535.0352,3009.5,539.0352,3013.5,535.0352" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1106.5" x2="3015.5" y1="535.0352" y2="535.0352"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1936.5" y="530.293">7.1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="1961.5" y="530.293">Deploy new TokenAllowList contract</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="3021.5" y="513.7246"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="3028.5" y="534.2598">Token Allow List</text><polygon fill="#181818" points="892.5,575.5234,882.5,579.5234,892.5,583.5234,888.5,579.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="886.5" x2="1105.5" y1="579.5234" y2="579.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="891" y="574.7813">8.1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="916" y="574.7813">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="50" x="944" y="574.7813">deploy()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="998" y="574.7813">to deploy OTLM</text><path d="M589,560.2129 L589,585.2129 L866,585.2129 L866,570.2129 L856,560.2129 L589,560.2129 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M856,560.2129 L856,570.2129 L866,570.2129 L856,560.2129 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256" x="595" y="577.7813">Args: stakedToken | payoutToken | style</text><polygon fill="#181818" points="1279.5,607.834,1289.5,611.834,1279.5,615.834,1283.5,611.834" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="876.5" x2="1285.5" y1="611.834" y2="611.834"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="974.5" y="607.0918">8.2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="999.5" y="607.0918">Deploy new ManualStrikeOTLM</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="1291.5" y="590.5234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="1298.5" y="611.0586">Manual Strike OTLM</text><polygon fill="#181818" points="1349.5,713.5645,1359.5,717.5645,1349.5,721.5645,1353.5,717.5645" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1106.5" x2="1355.5" y1="717.5645" y2="717.5645"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1177.5" y="712.8223">9.1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="1202.5" y="712.8223">call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="62" x="1228.5" y="712.8223">initialize()</text><path d="M818,637.0117 L818,784.0117 L1101,784.0117 L1101,647.0117 L1091,637.0117 L818,637.0117 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1091,637.0117 L1091,647.0117 L1101,647.0117 L1091,637.0117 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="824" y="654.5801">Args: ERC20 quoteToken |</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="824" y="669.8906">uint48 timeUntilEligible |</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="824" y="685.2012">uint48 eligibleDuration |</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="824" y="700.5117">address receiver | uint48 epochDuration |</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="824" y="715.8223">uint256 epochTransitionReward |</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="824" y="731.1328">uint256 rewardRate |</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="824" y="746.4434">IAllowlist allowlist |</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="824" y="761.7539">bytes calldata allowlistParams |</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="824" y="777.0645">bytes calldata other</text><polygon fill="#181818" points="3072.5,822.4277,3082.5,826.4277,3072.5,830.4277,3076.5,826.4277" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1371.5" x2="3078.5" y1="826.4277" y2="826.4277"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="2137.5" y="814.0303">9.2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="2162.5" y="806.375">If</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="143" x="2175.5" y="806.375">allowList != address(0)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="2162.5" y="821.6855">try calling</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="56" x="2229.5" y="821.6855">register()</text><path d="M1200,799.4619 L1200,824.4619 L1356,824.4619 L1356,809.4619 L1346,799.4619 L1200,799.4619 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1346,799.4619 L1346,809.4619 L1356,809.4619 L1346,799.4619 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="1206" y="817.0303">Args: allowlistParams</text><line style="stroke:#181818;stroke-width:1.0;" x1="1371.5" x2="1413.5" y1="855.7383" y2="855.7383"/><line style="stroke:#181818;stroke-width:1.0;" x1="1413.5" x2="1413.5" y1="855.7383" y2="868.7383"/><line style="stroke:#181818;stroke-width:1.0;" x1="1372.5" x2="1413.5" y1="868.7383" y2="868.7383"/><polygon fill="#181818" points="1382.5,864.7383,1372.5,868.7383,1382.5,872.7383,1378.5,868.7383" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1378.5" y="850.9961">9.3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="1403.5" y="850.9961">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="69" x="1431.5" y="850.9961">_initialize()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="1504.5" y="850.9961">to set initial strike price</text><path d="M1265,842.9277 L1265,867.9277 L1356,867.9277 L1356,852.9277 L1346,842.9277 L1265,842.9277 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1346,842.9277 L1346,852.9277 L1356,852.9277 L1346,842.9277 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="1271" y="860.4961">Args: other</text><line style="stroke:#181818;stroke-width:1.0;" x1="1371.5" x2="1418.5" y1="908.3594" y2="908.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="1418.5" x2="1418.5" y1="908.3594" y2="921.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="1377.5" x2="1418.5" y1="921.3594" y2="921.3594"/><polygon fill="#181818" points="1387.5,917.3594,1377.5,921.3594,1387.5,925.3594,1383.5,921.3594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1383.5" y="895.9619">9.4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="1408.5" y="888.3066">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="109" x="1436.5" y="888.3066">_startNewEpoch()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="1408.5" y="903.6172">to start the first epoch</text><line style="stroke:#181818;stroke-width:1.0;" x1="1376.5" x2="1418.5" y1="970.9805" y2="970.9805"/><line style="stroke:#181818;stroke-width:1.0;" x1="1418.5" x2="1418.5" y1="970.9805" y2="983.9805"/><line style="stroke:#181818;stroke-width:1.0;" x1="1377.5" x2="1418.5" y1="983.9805" y2="983.9805"/><polygon fill="#181818" points="1387.5,979.9805,1377.5,983.9805,1387.5,987.9805,1383.5,983.9805" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1383.5" y="958.583">9.5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="1408.5" y="950.9277">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="95" x="1436.5" y="950.9277">nextStrikPrice()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="1535.5" y="950.9277">it will be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1408.5" y="966.2383">passed as strike price to</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="50" x="1566.5" y="966.2383">deploy()</text><polygon fill="#181818" points="1957,1035.2568,1967,1039.2568,1957,1043.2568,1961,1039.2568" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1376.5" x2="1963" y1="1039.2568" y2="1039.2568"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1575.75" y="1034.5146">9.6</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="50" x="1600.75" y="1034.5146">deploy()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="1654.75" y="1034.5146">new Option Token</text><path d="M930,996.9805 L930,1067.9805 L1356,1067.9805 L1356,1006.9805 L1346,996.9805 L930,996.9805 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1346,996.9805 L1346,1006.9805 L1356,1006.9805 L1346,996.9805 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="936" y="1014.5488">Args: payoutToken | quoteToken |</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286" x="936" y="1029.8594">uint48(block.timestamp) + timeUntilEligible |</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="405" x="936" y="1045.1699">uint48(block.timestamp) + timeUntilEligible + eligibleDuration |</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="936" y="1060.4805">receiver | true | nextStrikePrice()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1979" x2="2026" y1="1089.5332" y2="1089.5332"/><line style="stroke:#181818;stroke-width:1.0;" x1="2026" x2="2026" y1="1089.5332" y2="1102.5332"/><line style="stroke:#181818;stroke-width:1.0;" x1="1985" x2="2026" y1="1102.5332" y2="1102.5332"/><polygon fill="#181818" points="1995,1098.5332,1985,1102.5332,1995,1106.5332,1991,1102.5332" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1991" y="1084.791">9.7</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="123" x="2016" y="1084.791">_getPriceDecimals()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1984" x2="2026" y1="1141.8438" y2="1141.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="2026" x2="2026" y1="1141.8438" y2="1154.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="1979" x2="2026" y1="1154.8438" y2="1154.8438"/><polygon fill="#181818" points="1989,1150.8438,1979,1154.8438,1989,1158.8438,1985,1154.8438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1991" y="1137.1016">9.8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="2016" y="1137.1016">External call to</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="143" x="2114" y="1137.1016">quoteToken.decimals()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1979" x2="2021" y1="1194.4648" y2="1194.4648"/><line style="stroke:#181818;stroke-width:1.0;" x1="2021" x2="2021" y1="1194.4648" y2="1207.4648"/><line style="stroke:#181818;stroke-width:1.0;" x1="1980" x2="2021" y1="1207.4648" y2="1207.4648"/><polygon fill="#181818" points="1990,1203.4648,1980,1207.4648,1990,1211.4648,1986,1207.4648" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1986" y="1182.0674">9.9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="2011" y="1174.4121">Create option token HASH if one does not exist yet</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="2011" y="1189.7227">Internal Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="149" x="2087" y="1189.7227">_getOptionTokenHash()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1979" x2="2026" y1="1247.0859" y2="1247.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="2026" x2="2026" y1="1247.0859" y2="1260.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="1985" x2="2026" y1="1260.0859" y2="1260.0859"/><polygon fill="#181818" points="1995,1256.0859,1985,1260.0859,1995,1264.0859,1991,1260.0859" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1991" y="1234.6885">9.10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="2025" y="1227.0332">If token[optionHash] does not exist</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="2025" y="1242.3438">Call internal</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="57" x="2105" y="1242.3438">_deploy()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1984" x2="2026" y1="1294.3965" y2="1294.3965"/><line style="stroke:#181818;stroke-width:1.0;" x1="2026" x2="2026" y1="1294.3965" y2="1307.3965"/><line style="stroke:#181818;stroke-width:1.0;" x1="1985" x2="2026" y1="1307.3965" y2="1307.3965"/><polygon fill="#181818" points="1995,1303.3965,1985,1307.3965,1995,1311.3965,1991,1307.3965" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1991" y="1289.6543">9.11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="2025" y="1289.6543">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="142" x="2053" y="1289.6543">_getNameAndSymbol()</text><polygon fill="#181818" points="2434,1348.0176,2444,1352.0176,2434,1356.0176,2438,1352.0176" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1984" x2="2440" y1="1352.0176" y2="1352.0176"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="2110.5" y="1339.6201">9.12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="2144.5" y="1331.9648">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="42" x="2172.5" y="1331.9648">clone()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="2218.5" y="1331.9648">on Impl address</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="2144.5" y="1347.2754">to deploy new option token</text><polygon fill="#181818" points="2720,1377.3281,2730,1381.3281,2720,1385.3281,2724,1381.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2456" x2="2726" y1="1381.3281" y2="1381.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="2468" y="1376.5859">9.13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="2502" y="1376.5859">Create instance (assembly</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="46" x="2670" y="1376.5859">create()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2716" y="1376.5859">)</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="2732" y="1360.0176"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="2739" y="1380.5527">Option Token (Instance)</text><polygon fill="#181818" points="1995,1418.8164,1985,1422.8164,1995,1426.8164,1991,1422.8164" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1989" x2="2450" y1="1422.8164" y2="1422.8164"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="2174.5" y="1418.0742">Option Token</text><polygon fill="#181818" points="2804.5,1448.127,2814.5,1452.127,2804.5,1456.127,2808.5,1452.127" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1979" x2="2810.5" y1="1452.127" y2="1452.127"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="2287.25" y="1447.3848">9.14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="2321.25" y="1447.3848">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="159" x="2349.25" y="1447.3848">updateDomainSeparator()</text><line style="stroke:#181818;stroke-width:1.0;" x1="2826.5" x2="2868.5" y1="1501.748" y2="1501.748"/><line style="stroke:#181818;stroke-width:1.0;" x1="2868.5" x2="2868.5" y1="1501.748" y2="1514.748"/><line style="stroke:#181818;stroke-width:1.0;" x1="2821.5" x2="2868.5" y1="1514.748" y2="1514.748"/><polygon fill="#181818" points="2831.5,1510.748,2821.5,1514.748,2831.5,1518.748,2827.5,1514.748" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="2833.5" y="1489.3506">9.15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="2867.5" y="1481.6953">Update separator with value</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="2867.5" y="1497.0059">from</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="171" x="2901.5" y="1497.0059">computeDomainSeparator()</text><polygon fill="#181818" points="1377.5,1535.0586,1367.5,1539.0586,1377.5,1543.0586,1373.5,1539.0586" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1371.5" x2="1973" y1="1539.0586" y2="1539.0586"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="1629.25" y="1534.3164">OptionToken</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3306.5" x="0" y="1567.7139"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3306.5" y1="1567.7139" y2="1567.7139"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3306.5" y1="1570.7139" y2="1570.7139"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="222" x="1542.25" y="1557.0586"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="204" x="1548.25" y="1573.627">Contract Deployment Finished</text><polygon fill="#FF0000" points="1354.5,1607.6797,1364.5,1611.6797,1354.5,1615.6797,1358.5,1611.6797" style="stroke:#FF0000;stroke-width:1.0;"/><line style="stroke:#FF0000;stroke-width:1.0;" x1="1106.5" x2="1360.5" y1="1611.6797" y2="1611.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1118.5" y="1606.9375">10.1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="1152.5" y="1606.9375">Transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="70" x="1208.5" y="1606.9375">1_000_000</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="1282.5" y="1606.9375">Payout TKN</text><path d="M1098,1633.6797 L1266,1633.6797 L1266,1640.9902 L1256,1650.9902 L1098,1650.9902 L1098,1633.6797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="957.582" style="stroke:#000000;stroke-width:1.5;" width="1833" x="1098" y="1633.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="123" x="1113" y="1647.248">Staking in MOTLM</text><polygon fill="#181818" points="1377.5,1668.3008,1367.5,1672.3008,1377.5,1676.3008,1373.5,1672.3008" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1371.5" x2="1739.5" y1="1672.3008" y2="1672.3008"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1414.5" y="1667.5586">11.1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="1448.5" y="1667.5586">Approve MOTLM for</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="39" x="1577.5" y="1667.5586">1_000</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="1620.5" y="1667.5586">Staked TKN</text><polygon fill="#181818" points="1382.5,1700.6113,1372.5,1704.6113,1382.5,1708.6113,1378.5,1704.6113" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1376.5" x2="1739.5" y1="1704.6113" y2="1704.6113"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1446.5" y="1699.8691">12.1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="1480.5" y="1699.8691">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="81" x="1508.5" y="1699.8691">Stake(1_000)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="1593.5" y="1699.8691">Staked TKN</text><path d="M1108,1685.3008 L1108,1710.3008 L1356,1710.3008 L1356,1695.3008 L1346,1685.3008 L1108,1685.3008 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1346,1685.3008 L1346,1695.3008 L1356,1695.3008 L1346,1685.3008 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="1114" y="1702.8691">Only users from</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="58" x="1219" y="1702.8691">AllowList</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="1281" y="1702.8691">can stake</text><line style="stroke:#181818;stroke-width:1.0;" x1="1371.5" x2="1418.5" y1="1731.9219" y2="1731.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="1418.5" x2="1418.5" y1="1731.9219" y2="1744.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="1377.5" x2="1418.5" y1="1744.9219" y2="1744.9219"/><polygon fill="#181818" points="1387.5,1740.9219,1377.5,1744.9219,1387.5,1748.9219,1383.5,1744.9219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1383.5" y="1727.1797">12.2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="1417.5" y="1727.1797">Modifier</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="103" x="1473.5" y="1727.1797">updateRewards()</text><path d="M1281.5,1764.9219 L1343.5,1764.9219 L1343.5,1772.2324 L1333.5,1782.2324 L1281.5,1782.2324 L1281.5,1764.9219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="74.9316" style="stroke:#000000;stroke-width:1.5;" width="339" x="1281.5" y="1764.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1296.5" y="1778.4902">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="230" x="1358.5" y="1777.5566">[lastRewardUpdate != current timestamp]</text><path d="M1625.5,1769.9219 L1625.5,1794.9219 L1873.5,1794.9219 L1873.5,1779.9219 L1863.5,1769.9219 L1625.5,1769.9219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1863.5,1769.9219 L1863.5,1779.9219 L1873.5,1779.9219 L1863.5,1769.9219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="1631.5" y="1787.4902">This also updates</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="112" x="1746.5" y="1787.4902">lastRewardUpdate</text><line style="stroke:#181818;stroke-width:1.0;" x1="1376.5" x2="1418.5" y1="1823.8535" y2="1823.8535"/><line style="stroke:#181818;stroke-width:1.0;" x1="1418.5" x2="1418.5" y1="1823.8535" y2="1836.8535"/><line style="stroke:#181818;stroke-width:1.0;" x1="1371.5" x2="1418.5" y1="1836.8535" y2="1836.8535"/><polygon fill="#181818" points="1381.5,1832.8535,1371.5,1836.8535,1381.5,1840.8535,1377.5,1836.8535" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1383.5" y="1811.4561">12.3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="1417.5" y="1803.8008">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="163" x="1445.5" y="1803.8008">currentRewardsPerToken()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1417.5" y="1819.1113">to set</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="147" x="1457.5" y="1819.1113">rewardsPerTokenStored</text><line style="stroke:#181818;stroke-width:1.0;" x1="1371.5" x2="1418.5" y1="1863.1641" y2="1863.1641"/><line style="stroke:#181818;stroke-width:1.0;" x1="1418.5" x2="1418.5" y1="1863.1641" y2="1876.1641"/><line style="stroke:#181818;stroke-width:1.0;" x1="1377.5" x2="1418.5" y1="1876.1641" y2="1876.1641"/><polygon fill="#181818" points="1387.5,1872.1641,1377.5,1876.1641,1387.5,1880.1641,1383.5,1876.1641" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1383.5" y="1858.4219">12.4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="1417.5" y="1858.4219">Modifier</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="90" x="1473.5" y="1858.4219">tryNewEpoch()</text><path d="M1271.5,1896.1641 L1333.5,1896.1641 L1333.5,1903.4746 L1323.5,1913.4746 L1271.5,1913.4746 L1271.5,1896.1641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="688.0977" style="stroke:#000000;stroke-width:1.5;" width="1649.5" x="1271.5" y="1896.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1286.5" y="1909.7324">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="285" x="1348.5" y="1908.7988">[current timestamp &gt; epochStart + epochDuration]</text><polygon fill="#181818" points="2809.5,1930.7852,2819.5,1934.7852,2809.5,1938.7852,2813.5,1934.7852" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1376.5" x2="2815.5" y1="1934.7852" y2="1934.7852"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="357" x="1920.5" y="1930.043">If this was hit, it means that old Option Token is expired</text><line style="stroke:#A80036;stroke-width:2.0;" x1="2812.5" x2="2830.5" y1="1925.7852" y2="1943.7852"/><line style="stroke:#A80036;stroke-width:2.0;" x1="2812.5" x2="2830.5" y1="1943.7852" y2="1925.7852"/><line style="stroke:#181818;stroke-width:1.0;" x1="1376.5" x2="1423.5" y1="1959.0957" y2="1959.0957"/><line style="stroke:#181818;stroke-width:1.0;" x1="1423.5" x2="1423.5" y1="1959.0957" y2="1972.0957"/><line style="stroke:#181818;stroke-width:1.0;" x1="1382.5" x2="1423.5" y1="1972.0957" y2="1972.0957"/><polygon fill="#181818" points="1392.5,1968.0957,1382.5,1972.0957,1392.5,1976.0957,1388.5,1972.0957" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1388.5" y="1954.3535">12.5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="1422.5" y="1954.3535">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="109" x="1450.5" y="1954.3535">_startNewEpoch()</text><polygon fill="#181818" points="1957,2002.4063,1967,2006.4063,1957,2010.4063,1961,2006.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1381.5" x2="1963" y1="2006.4063" y2="2006.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1559.75" y="2001.6641">12.6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="1593.75" y="2001.6641">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="50" x="1621.75" y="2001.6641">deploy()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="1675.75" y="2001.6641">new Option Token</text><polygon fill="#181818" points="2720,2047.0273,2730,2051.0273,2720,2055.0273,2724,2051.0273" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1974" x2="2726" y1="2051.0273" y2="2051.0273"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="2219.5" y="2038.6299">12.7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="2253.5" y="2030.9746">Create new instance of Option Token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="2253.5" y="2046.2852">Process exactly the same as in</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="2449.5" y="2046.2852">9.6</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="2732" y="2017.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="2739" y="2038.0742">Option Token (Instance)</text><polygon fill="#181818" points="1962,2076.3379,1972,2080.3379,1962,2084.3379,1966,2080.3379" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1376.5" x2="1968" y1="2080.3379" y2="2080.3379"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1451.75" y="2075.5957">12.8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="1485.75" y="2075.5957">Approve Option Teller with</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="147" x="1658.75" y="2075.5957">epochTransitionReward</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="1809.75" y="2075.5957">of Payout TKN</text><polygon fill="#181818" points="1957,2120.959,1967,2124.959,1957,2128.959,1961,2124.959" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1376.5" x2="1963" y1="2124.959" y2="2124.959"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1532.75" y="2112.5615">12.9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="1566.75" y="2104.9063">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="196" x="1594.75" y="2104.9063">create(_optionToken, _amount)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="1566.75" y="2120.2168">In this case</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="55" x="1642.75" y="2120.2168">_amount</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="1701.75" y="2120.2168">is</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="96" x="1716.75" y="2120.2168">epochTrReward</text><polygon fill="#181818" points="2804.5,2165.5801,2814.5,2169.5801,2804.5,2173.5801,2808.5,2169.5801" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1979" x2="2810.5" y1="2169.5801" y2="2169.5801"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="39" x="2248.75" y="2157.1826">12.10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="2291.75" y="2149.5273">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="227" x="2319.75" y="2149.5273">getOptionParameters(_optionToken)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="2291.75" y="2164.8379">to get basic info about Option Token</text><polygon fill="#181818" points="1990,2194.8906,1980,2198.8906,1990,2202.8906,1986,2198.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1984" x2="2820.5" y1="2198.8906" y2="2198.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="2345.25" y="2194.1484">optionParameters</text><line style="stroke:#181818;stroke-width:1.0;" x1="1979" x2="2026" y1="2223.2012" y2="2223.2012"/><line style="stroke:#181818;stroke-width:1.0;" x1="2026" x2="2026" y1="2223.2012" y2="2236.2012"/><line style="stroke:#181818;stroke-width:1.0;" x1="1985" x2="2026" y1="2236.2012" y2="2236.2012"/><polygon fill="#181818" points="1995,2232.2012,1985,2236.2012,1995,2240.2012,1991,2236.2012" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="39" x="1991" y="2218.459">12.11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="2034" y="2218.459">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="220" x="2062" y="2218.459">getOptionToken(optionParameters)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1984" x2="2031" y1="2265.5117" y2="2265.5117"/><line style="stroke:#181818;stroke-width:1.0;" x1="2031" x2="2031" y1="2265.5117" y2="2278.5117"/><line style="stroke:#181818;stroke-width:1.0;" x1="1990" x2="2031" y1="2278.5117" y2="2278.5117"/><polygon fill="#181818" points="2000,2274.5117,1990,2278.5117,2000,2282.5117,1996,2278.5117" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="39" x="1996" y="2260.7695">12.12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="2039" y="2260.7695">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="259" x="2067" y="2260.7695">_getOptionTokenHash(optionParameters)</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1989" x2="2031" y1="2317.8223" y2="2317.8223"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2031" x2="2031" y1="2317.8223" y2="2330.8223"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1984" x2="2031" y1="2330.8223" y2="2330.8223"/><polygon fill="#181818" points="1994,2326.8223,1984,2330.8223,1994,2334.8223,1990,2330.8223" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="1996" y="2313.0801">Hash of the optionParameters</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1984" x2="2026" y1="2360.1328" y2="2360.1328"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2026" x2="2026" y1="2360.1328" y2="2373.1328"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1979" x2="2026" y1="2373.1328" y2="2373.1328"/><polygon fill="#181818" points="1989,2369.1328,1979,2373.1328,1989,2377.1328,1985,2373.1328" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="1991" y="2355.3906">optionToken (it's the</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="168" x="2126" y="2355.3906">optionTokens[optionHash]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2294" y="2355.3906">)</text><path d="M1281.5,2383.1328 L1343.5,2383.1328 L1343.5,2390.4434 L1333.5,2400.4434 L1281.5,2400.4434 L1281.5,2383.1328 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.8867" style="stroke:#000000;stroke-width:1.5;" width="797" x="1281.5" y="2383.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1296.5" y="2396.7012">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="85" x="1358.5" y="2395.7676">[Option is Call:</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="49" x="1447.5" y="2395.7676">bool call</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="83" x="1500.5" y="2395.7676">(option param)</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="44" x="1587.5" y="2395.7676">== true</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4" x="1631.5" y="2395.7676">]</text><polygon fill="#FF0000" points="1957,2417.7539,1967,2421.7539,1957,2425.7539,1961,2421.7539" style="stroke:#FF0000;stroke-width:1.0;"/><line style="stroke:#FF0000;stroke-width:1.0;" x1="1376.5" x2="1963" y1="2421.7539" y2="2421.7539"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="39" x="1534.25" y="2417.0117">12.13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="1577.25" y="2417.0117">Safe Transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="55" x="1663.25" y="2417.0117">_amount</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="1722.25" y="2417.0117">of Payout TKN</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1281.5" x2="2078.5" y1="2430.7539" y2="2430.7539"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="81" x="1286.5" y="2441.3887">[Option is Put:</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="73" x="1371.5" y="2441.3887">call == false</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="4" x="1444.5" y="2441.3887">]</text><polygon fill="#008000" points="1957,2462.0195,1967,2466.0195,1957,2470.0195,1961,2466.0195" style="stroke:#008000;stroke-width:1.0;"/><line style="stroke:#008000;stroke-width:1.0;" x1="1376.5" x2="1963" y1="2466.0195" y2="2466.0195"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="39" x="1517.25" y="2461.2773">12.14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="1560.25" y="2461.2773">Safe Transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="93" x="1646.25" y="2461.2773">_quoteAmount</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="1743.25" y="2461.2773">of Quote TKN</text><polygon fill="#181818" points="2804.5,2498.3301,2814.5,2502.3301,2804.5,2506.3301,2808.5,2502.3301" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1979" x2="2810.5" y1="2502.3301" y2="2502.3301"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="39" x="2275.75" y="2497.5879">12.15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="2318.75" y="2497.5879">Call</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="173" x="2346.75" y="2497.5879">mint(msg.sender, _amount)</text><polygon fill="#800080" points="1387.5,2542.9512,1377.5,2546.9512,1387.5,2550.9512,1383.5,2546.9512" style="stroke:#800080;stroke-width:1.0;"/><line style="stroke:#800080;stroke-width:1.0;" x1="1381.5" x2="2820.5" y1="2546.9512" y2="2546.9512"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="39" x="1968" y="2534.5537">12.16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="2011" y="2526.8984">Internal</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="36" x="2063" y="2526.8984">_mint</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="2103" y="2526.8984">updates Option TKN</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="2011" y="2542.209">balance and total supply</text><polygon fill="#800080" points="1728.5,2572.2617,1738.5,2576.2617,1728.5,2580.2617,1732.5,2576.2617" style="stroke:#800080;stroke-width:1.0;"/><line style="stroke:#800080;stroke-width:1.0;" x1="1371.5" x2="1734.5" y1="2576.2617" y2="2576.2617"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="39" x="1386" y="2571.5195">12.17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="1429" y="2571.5195">Transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="147" x="1485" y="2571.5195">epochTransitionReward</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="1636" y="2571.5195">of Option TKN</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="389" x="1458.25" y="2811.8594">Bond Options - Sherlock (Jul 2023) - PlantUML diagram | author: @kamilchmielu</text><rect fill="#DDDDDD" height="92.4414" id="_legend" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1.0;" width="197" x="1554.25" y="2696.75"/><line style="stroke:#000000;stroke-width:1.0;" x1="1554.25" x2="1623.75" y1="2709.9941" y2="2709.9941"/><line style="stroke:#000000;stroke-width:1.0;" x1="1554.25" x2="1623.75" y1="2711.9941" y2="2711.9941"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="1627.75" y="2714.7852">Legend</text><line style="stroke:#000000;stroke-width:1.0;" x1="1681.75" x2="1751.25" y1="2709.9941" y2="2709.9941"/><line style="stroke:#000000;stroke-width:1.0;" x1="1681.75" x2="1751.25" y1="2711.9941" y2="2711.9941"/><text fill="#800080" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="1559.25" y="2731.7734">Purple</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="1607.25" y="2731.7734">- Option Token flow</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="1559.25" y="2748.2617">Green</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="1604.25" y="2748.2617">- Quote Token flow</text><text fill="#FF0000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="1559.25" y="2764.75">Red</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="1589.25" y="2764.75">- Payout Token flow</text><text fill="#008000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="1559.25" y="2781.2383">Blue</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="1592.25" y="2781.2383">- Staked Token flow</text><!--SRC=[nLbRTnCv4dxthoYOXrmWSM1tvkpcJCAQ04Ds4iXYU2ASZDmjspfHIurQJV0C-z-tgjHtkur3cDa-9oUsBdLJVLMVsbvvBU6fDJ6yJhso9Zk44sky4v67K-CbVQ1XK0RyN4BghBUHrOF1S0k6Ttu6mo6iVCQBpCi4BeJpAbAfC3w3deUbtFM1hU5WaDRQuFuRgsK6ezpFhLD-SHz41ZnM3GqmDjR1VGxVcPXai3sA4sLsU2r_R8jy_VRi75xmhY2F1ehlfR3ddp7eHcXuAqK2swTPbaiN98RFRP7dmkIuUEoTkfOiZvU6uJ1AWuDI_4YhICBskwmKoWEr9vFc77tjHEM5-YpZIXsd35ggjNIyWwSBjJmPvZQGOQ-bGNVFByvsUYJHYeurdSqcyy94CWZetnMMZxIsDt2cCi_BUP37QAYh1s60EEb6EGmte_mdemAV5YZNFDyD5LklycGYNGR2oR8AZFQVxf_0rBf4-8SmMK0aj5Pc1hyf4y7eDrZO76wKrhWXSb9aahTDbSiy69P7knvj3KJkRJ7mQF_HOEPidhRg4UnXGKBD5qNXWMSorNQHIEC7v2V33FQEEzY4tLquBDQ2aJVGWJD4HPKRi9I66Um13vBbNlRcT4jxpo9uyA1jnZfXVJAMdJk4iVHunBDSk5W9WoSbC6J3eIYNuF6lTO5XyHMbgtVL_hJGfv9KIpeLmOEO6n1fQsJ6Mc99AVi9RLaJxxwZn9Q4wONUPTBJr8b8nKHfdDhU6GulZRSW6Cp3eSFf0un653PuzcKVzvNfyq9AslJ_i2BIGYMeF-it03QsW8eqJTUwiqpDJ3idSBWoXYKRYycWvTGVjXUg3EecTfvhhs2iPd23wZ3FTdUVF7cokxj9p1eDhON0PgEJ9XuCbiG4v7VQMJF1pjJ7NCKKXtDbgDRi4GZob0q8hP4iQDVnfJBGcQwg00dfzw-Ze-ab0xmubvZrq95GwEFQzNRmSSF8pP1fORkwbd5mxmka0gkcBxzbVg4bxsjgG-NTrhxaubBltnY07JUNDB6lHLBZ6NWbjFezuAdbuA1iGi7DvszE7X_0nnod2- -g1Rao_k__0AyI-SvufPzhDLCJRBLBIsGnyonteSBKAqGSEvbbu6GarIUq_KkrARNHVCKEcdxyuqzX_gqJ9bEquesyGKYiMETuuWsLqdhobDD8Kng9wbCzFLbuR3WKhLXuKIz1IYkIh7-XnKuP-W42XMCQJcpfD9QJ_H1EfzG4ge5xHsLmjWz2eN1rhyRI86UuIhhb4wnIj6DslodTiGeKL-rC8MHW_O9Y5FESePuweg6hRGWHsLXp2v9NY37dNycRvtJKLRNaqGOduKIuXOfAlf6VFOzVa0FieFA1-apafKcnB2FNHQxOz3CKvhfQz2jUIojQ1OUGtwoNQn7PBZLhaBazqJQwtYTyOiYIT0SUR03MpNOzM8Vf1fQzor45L96MHQXNOEHMPAOLoQiPSGIK-qn6AX4wgp3n3JBtzb1cTP7ZWiadNWTwFxwx6ip1mEviE7RF9_XoD7u9QWf8lI2sM5WmEY0_KpLOI7zf-Fv0Pb421xyRvEwboEPtyPoZYKM8RNaV32EP7pgsN1h6ZogDGKCQSFZcU1IOHvzUYKIEJ3nU91EhlqqeXxDPIvZFCjWmsgV8TylYoYKbhZjmyq1wzB9meXADhxkxrP6guYeBsrH0aebUa7wU8mDskZqyypOG8OUKo9dbIj1OYnRdYVnQF5fsxZN3aAVOf-GpcmXbnXBloGAfIHNYDVunBDxnRcm1nKQibNuEduJEiLnEdKt8KPkaUR-Ah_hzDRSRP6WLDpewgj-1rRTD39PHsHoh-T7H6WvLqgVtFpWPVrZPEfXmJ77HSFZewk3WWFumgIwuACFRNr_1MeuyHjP8_HiPztd5xy9xdTMjQfIcpdwIOJNVp0h5g7JC59IKhgFtlSARUS6YjbdmJbjojws_DfZFUKOl5OeJhpWCtvfCOCQtRVddDbPJnN4DEHhuN5rZXVQWHUR3U969o96Yt3awuQfXGTM7DjBEYLqMYI2hK7qX7ITZJJputkxQisFCRXcZwsLBgoFcr6nE8NixnpiQzWiBmRKCfNHTARpyzgWXEsmofIfco_4v3enfp3JgGPjdrxny1KvNszOf5FVk5Ls4dBv1yZHN_Y7ngaGYSd1OUB0wxho0oB2rf0e3kSg01lg_4uzSAsjjVro-BQuaRuttDzsoTglQ3LLN8JLLPx7JbifBS-5iHDSe-HaB7mAKs766RPJOgwBkzC_zdtPtA_tTgddRKDHrgVKQEVI3uN3brOnQxxHHAEzy1aLBlR9rn1x2bKXiRZn3zjI4B8pe7IQcGPWAhqmg8qlZRdisJKig7iONBOcyA6kPLHOGN0SJaQa8psHgGKme52jpfmz-HQkq7MqReEPR2M7NnL0IkmRiR1R0JJIjOhNhr7qbLBIV4eyGqHksLbYBNoIKtyfurt3O6C-QnBWaSwiZNq_fwfGnyyXDkhLCh0tt2qp8ma4WjfJiu2JI6BewDTnSZPIIgVG3TIociibQQXIiHgFKcMnOUv7p-qQ-1w5HKsnZcrWrSrAQszd55wnHmxZ_q43RDc9MTy1fWdUMxIIRxMSeIRfcjQZ4jkhl-n_ItALQVkWZ3gUDIn19HylB7b_Y-jTNbsOYDDTjUj7lhQTN9tcQwiKj2tB3d8BMxRKfwPh2MvjJ4HKEvv_-enS-Pt96T_trp_VxALYpkl8wK2X7uay3M_3p5Ey745bjtP75KCtayMl-z_EGPevXBx2mvheGzkCB_bUlQt6OARBWfOqJl1eT_q9Wg7SLUTs_2I5z_4R6zOuIflrR66_7Jr5RlQiayVKkZ4CHcx_asCT-mIyh_w9Zp_1cnGKKYVh7N2BUpf4IYPb4hCmCH9Amsbp69FqFZkLJwx0Wd50iOQ95T1r6yGFTsqmSPcwGonQNRunnS_L_ctARFp__KIqVgzybFFvnfM1DDuMP4miIDBLeb-l-a3gUIqTlvc3xtxc6nmUF_xP3cO5rnRyxFuDOYHdf_WBXPyH3-DUrI9IEvecIElyV]--></g></svg>